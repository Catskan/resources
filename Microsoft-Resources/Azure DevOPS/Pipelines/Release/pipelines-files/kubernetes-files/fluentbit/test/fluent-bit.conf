[SERVICE]
    # This is a commented line
    Daemon    off
    log_level trace
    storage.path              /var/log/flb-storage/
    storage.sync              normal
    storage.checksum          off
    storage.backlog.mem_limit 5M
# Windows 
[INPUT]
    Name              tail
    Tag               kube.*
    Path              /tmp/ntwmonitor.log,/tmp/msm-agent.log,/tmp/msmonitor.log
    Read_from_Head    True
    Parser            simple_cri_parser
# linux
[INPUT]
    Name              tail
    Tag               kube.*
    Parser            simple_cri_parser
    Path              /tmp/*nginx*.log,/tmp/*npv*.log,/tmp/*keycloak*.log
    # Path              /tmp/npv-server.log
    Read_from_Head    True

[FILTER]
    Name                    multiline
    Match                   *ntwmonitor*
    multiline.key_content   log
    multiline.parser        both-multiline-parser
[FILTER]
    Name                    multiline
    Match                   *msm-agent*
    multiline.key_content   log
    multiline.parser        both-multiline-parser
[FILTER]
    Name                    multiline
    Match                   *npv-server*
    multiline.key_content   log
    multiline.parser        both-multiline-parser
[FILTER]
    Name                    multiline
    Match                   *keycloak*
    multiline.key_content   log
    multiline.parser        both-multiline-parser

[FILTER]
    Name                record_modifier
    Match               *
    Remove_key          time
    Remove_key          _p
    Remove_key          stream
    Remove_key          record_date
    # Remove_key          kubernetes
    # Remove_key          container_name
    # Remove_key          namespace_name

# [OUTPUT]
#     Name             es
#     Match            *
#     Host             127.0.0.1
#     Port             9200
#     HTTP_User        elastic
#     HTTP_Passwd      changeme
#     Buffer_Size False
#     Trace_Error On
# [OUTPUT]
#     Name  es
#     Match *
#     cloud_id getFromDevOps
#     cloud_auth getFromDevOps
#     tls On
#     tls.verify Off

    # Index aurelien
    # Type  _doc
    # Generate_ID on

[OUTPUT]
    Name              stdout
    Match             *
    # storage.total_limit_size  5M

